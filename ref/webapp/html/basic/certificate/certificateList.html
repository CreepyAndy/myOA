<div ng-controller="certificateController">
	<div class="section personal-information">
		<p class="title">
			<span>Certificate List</span>
		</p>
	</div>
	<br>
	<br>
	<table>
<!-- 			<tr> -->
<!-- 				<td><label>Search by Date:&nbsp;</label></td> -->
<!-- 				<td><input ng-click="openStartDate()" readonly class="form-control" uib-datepicker-popup ng-model="select.startDate" is-open="startDate.opened" datepicker-options="dateOptions" required close-text="Close" alt-input-formats="altInputFormats" placeholder="yyyy-mm-dd"/></td> -->
<!-- 				<td>&nbsp;-&nbsp;</td> -->
<!-- 				<td><input ng-click="openEndDate()" readonly class="form-control" uib-datepicker-popup ng-model="select.endDate" is-open="endDate.opened" datepicker-options="dateOptions" required close-text="Close" alt-input-formats="altInputFormats" placeholder="yyyy-mm-dd"/></td> -->
<!-- 			</tr> -->
			<tr>
			<td>&nbsp;<td>
			</tr>
			<tr>
				<td><label>Search by EmployeeID:&nbsp;</label></td>
				<td><input class="form-control" ng-model="searchInfo.empNo"/></td>
			</tr>
			<tr>
			<td>&nbsp;<td>
			</tr>
			<tr>
				<td><label>Application Status:&nbsp;</label></td>
				<td>
					<select ng-model="statusInfo" required class="form-control" ng-change="">
						<option value="">All</option>
						<option value="Processing">Processing</option>
						<option value="Approved">Approved</option>
						<option ng-show="isHr != -1" value="Done">Done</option>
					</select>
				</td>
			</tr>
		</table>


	<div class="search-result" context-menu="menuOptions">
		<div class="form-button">
			<!-- <button type="button" class="btn " ng-click="queryApproveLeaveList()">Search</button> -->
			<button ng-show="isHr != -1 && statusInfo == 'Approved' " id="markBtn" type="button" class="btn " ng-click="mark(selected)">Mark as done</button>
			<!-- <button type="button" class="btn " ng-click="saveData()">DownLoad
                File</button> -->

		</div>
	</div>
	<table class="table">
		<thead>
			<tr>
				<th></th>
				<th>EmployeeID</th>
				<th>Name</th>
				<th>Certificate Type</th>
				<th>Pending</th>
				<th>Status</th>
				<th>Attachment</th>
				<!--<th>Complete Status</th>-->
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="info in certificateList | filter:searchInfo | filter: searchByStatus">
				<td class="check-box">
					<input type="checkbox" class="checkbox" id="{{info.id}}" name="{{info.id}}" ng-click="updateSelection($event,info)" ng-model="info.check" ng-checked="isSelected(info.id)">
					<label for="{{info.id}}" ng-show="isHr != -1 && info.status_log == 'Approved' && statusInfo == 'Approved'"></label>
				</td>
				<td ng-bind="info.empNo"></td>
				<td ng-bind="info.emplName" ng-click="getApplication(info)"
					data-toggle="modal" data-target="#applicationInfoModal"
					data-backdrop="static" style="cursor:pointer;color: #FF8B00"></td>
				<td ng-bind="info.type"></td>
				<td ng-show="info.waiting!=null" ng-bind="info.waiting"></td>
				<td ng-show="info.waiting==null">HR</td>
				<td ng-bind="info.status_log"></td>
				<td>
					<a  ng-click="showCerAttachmentList(info)" data-toggle="modal" data-target="#cerAppAttachmentModal" data-backdrop="static" style="cursor:pointer;color: #FF8B00">view</a>
				</td>
				<!--<td ng-show="info.waiting!=null&&info.status_log!='completed'">Processing</td>-->
				<!--<td ng-show="info.waiting==null&&info.status_log!='completed'"><span><button-->
							<!--type="button" class="btn btn-warning"-->
							<!--ng-click="sendCompletedEmail(info)">Mark as Done</button></span></td>-->
				<!--<td ng-show="info.status_log=='completed'">Done</td>-->
			</tr>
		</tbody>
	</table>

	<div class="modal fade" id="applicationInfoModal" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
				<div id="print">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close" id="closeButton">
							<span aria-hidden="true">&times;</span>
						</button>
						<h4 class="modal-title" id="exampleModalLabel">Company Official Chop / HR Chop Application Form</h4>
					</div>
					<div class="section position-information">
						<div class="position-content" style="padding: 20px;">
							<div class="section personal-information">
								<div class="personal-content">
									<div class="form-group col-sm-6">
										<label for="name" class="col-sm-4 col-xs-6 control-label">Name:</label>
										<div class="col-sm-5 col-xs-6">
											<span ng-bind="modal.emplName"></span>
										</div>
									</div>
									<div class="form-group col-sm-6">
										<label for="province" class="col-sm-4 col-xs-6 control-label">Employee ID:</label>
										<div class="col-sm-5 col-xs-6">
											<span ng-bind="modal.emplNo"></span>
										</div>
									</div>
								</div>
								<div class="form-group col-sm-6">
									<label for="id-number" class="col-sm-4 col-xs-6 control-label">Domain:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="modal.supportingTeamName"></span>
									</div>
								</div>
								<div class="form-group col-sm-6">
									<label for="passport-no"
										class="col-sm-4 col-xs-6 control-label">Level:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="modal.jobTitle"></span>
									</div>
								</div>
								<div class="form-group col-sm-6">
									<label for="nationality"
										class="col-sm-4 col-xs-6 control-label">Certificate Type:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.type"></span>
									</div>
								</div>
								<div class="form-group col-sm-6">
									<label for="passport-no"
										class="col-sm-4 col-xs-6 control-label">Chop Type:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.chopType"></span>
									</div>
								</div>
								<div class="form-group col-sm-6">
									<label for="passport-no"
										class="col-sm-4 col-xs-6 control-label">Request Date:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.appDate"></span>
									</div>
								</div>
								<div class="form-group col-sm-6"
									ng-if="travelInfo.type == 'Travel_Certificate'">
									<label for="id-number" class="col-sm-4 col-xs-6 control-label">Destination:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.destination"></span>
									</div>
								</div>
								<div class="form-group col-sm-6"
									ng-if="travelInfo.type == 'Travel_Certificate'">
									<label for="passport-no"
										class="col-sm-4 col-xs-6 control-label">Passport NO:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.passportNumber"></span>
									</div>
								</div>
								<div class="form-group col-sm-6"
									ng-if="travelInfo.type == 'Travel_Certificate'">
									<label for="birthday" class="col-sm-4 col-xs-6 control-label">Travel
										Start Date:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.startDate"></span>
									</div>
								</div>
								<div class="form-group col-sm-6"
									ng-if="travelInfo.type == 'Travel_Certificate'">
									<label for="birth-province"
										class="col-sm-4 col-xs-6 control-label">Travel End
										Date:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.endDate"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.coachLog != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">Coach Log:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.coachLog"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.coachTime != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">Time:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.coachTime"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.pmLog != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">Coach/PM/RL:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.pmLog"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.pmTime != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">Approval Date:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.pmTime"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.omLog != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">OM:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.omLog"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.omTime != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">Approval Date:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.omTime"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.gmLog != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">GM Log:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.gmLog"></span>
									</div>
								</div>
								<div class="form-group col-sm-6" ng-if="travelInfo.gmTime != null">
									<label for="nationality"
										class="col-sm-4 col-xs-6 co ntrol-label">Time:</label>
									<div class="col-sm-5 col-xs-6">
										<span ng-bind="travelInfo.gmTime"></span>
									</div>
								</div>
								<br>
								<button type="button" class='btn btn-info' id="printButton"
									ng-click="print()" ng-show="validPrint==1">Print</button>
								<button type="hidden" style="background:white;color:white;border:none" >asd</button>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="cerAppAttachmentModal" tabindex="-1"
		 role="dialog" aria-labelledby="exampleModalLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close" id="closeButton">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="exampleModalLabel">Certification Application Attachment</h4>
				</div>
				<div>
					<table class="table">
						<thead>
						<tr>
							<th>File Name</th>
						</tr>
						</thead>
						<tbody>
						<tr ng-repeat="file in files">
							<td ng-click="cerDownload(file)" style="cursor:pointer;">{{file}}</td>
							<!-- <td ng-click="download(objToString(file))" data-toggle="modal" data-target="#downloadtemplateModal" data-backdrop="static" style="cursor:pointer;">{{objToString(file)}}</td>
                            <td ng-show="isHr != -1"><a ng-click="deleteFileDialog(objToString(file))" "data-toggle="modal" data-target="#deleteModal" data-backdrop="static" style="cursor:pointer;">delete</a></td> -->
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
